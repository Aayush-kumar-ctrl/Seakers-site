/* window.addEventListener("DOMContentLoaded", async () => { ... })
 
If you want your page to feel fast, show your UI right after DOMContentLoaded.
If you need to hide a loading spinner or start animations after all assets are ready, use window.onload.


--------------------------------------------------------------------------------------------------------------------
3. async () => { ... }
This is an asynchronous arrow function. 

Arrow Functions

Arrow functions are a modern ES6 feature.
 They are often shorter and easier to read, especially for callbacks.

 Example:

window.addEventListener("click", () => {
  console.log("Clicked!");
});


Here, () => { ... } is an arrow function used as an event handler.

------------


 What‚Äôs asynchronous?  here: async ()

JavaScript normally runs line by line (synchronous).

But sometimes, we must wait for something ‚Äî like:

Fetching data from a server

Reading a file

Delays or timers

Instead of blocking the page while waiting, JavaScript continues running other code ‚Äî that‚Äôs asynchronous behavior.
---------------------

 await ‚Äî Wait for async result

You can only use await inside an async function.

It means:

‚ÄúPause here until the Promise(future value) is done ‚Äî then continue.‚Äù

Example:

async function fetchUser() {
  console.log("Fetching user...");
  const response = await fetch("https://api.example.com/user");
  const data = await response.json();
  console.log("User data:", data);
}


fetch() returns a Promise (a future value).

await waits for that Promise to resolve (complete).

The code doesn‚Äôt block the browser ‚Äî it just waits inside this function.

 So await makes asynchronous code look like normal synchronous code ‚Äî easier to read and write.

---------------------------------
 In your code:
window.addEventListener("DOMContentLoaded", async () => {
  await window.Clerk.load();
});


means:

‚ÄúWhen HTML is ready, run this arrow function asynchronously, and wait for Clerk to finish loading before moving ahead.‚Äù

------------------------------------------------

 The code:
//  Get important DOM elements
const signInBtn = document.getElementById("sign-in-btn");
const signUpBtn = document.getElementById("sign-up-btn");
const signOutBtn = document.getElementById("sign-out-btn");
const checkoutBtn = document.getElementById("checkout-btn");
const grid = document.getElementById("product-grid");

 Step 1: What is the DOM?

DOM = Document Object Model
When a web page is loaded, the browser converts the HTML into a JavaScript object structure called the DOM.

That means every element in HTML (like <button>, <div>, <img>, etc.) becomes a JavaScript object that you can control using code ‚Äî you can:
Read or change its content
Change its color, text, or visibility
Add click or hover behavior

 Step 2: document.getElementById("...")

This method finds and returns a specific HTML element whose id attribute matches the string inside the parentheses.

Example:

 HTML
<button id="sign-in-btn">Sign In</button>

JavaScript
const signInBtn = document.getElementById("sign-in-btn");


Now, signInBtn is a reference to that actual button in the page.

You can now do things like:

signInBtn.style.color = "red";
signInBtn.addEventListener("click", () => alert("Signed in!"));

 Step 3: What each line does
Line	What it does	Example use
const signInBtn = document.getElementById("sign-in-btn");	Finds the ‚ÄúSign In‚Äù button	Add click event for user login
const signUpBtn = document.getElementById("sign-up-btn");	Finds the ‚ÄúSign Up‚Äù button	Open registration form
const signOutBtn = document.getElementById("sign-out-btn");	Finds the ‚ÄúSign Out‚Äù button	Log user out
const checkoutBtn = document.getElementById("checkout-btn");	Finds the ‚ÄúCheckout‚Äù button	Start payment or checkout
const grid = document.getElementById("product-grid");	Finds the main product grid <div>	Display all products dynamically
 Step 4: Why we store them in variables

Instead of writing document.getElementById() again and again,
we store each element in a variable (signInBtn, grid, etc.) so we can easily use it multiple times later.

 Example:

signInBtn.addEventListener("click", () => {
  console.log("Sign in clicked!");
});

grid.innerHTML = "<p>Products will load here...</p>";


This makes the code shorter, cleaner, and faster to execute.

-------------------------------------------------------------------------------------------------
//  Dummy Product Data (replace with your own or import from products.js)
  const products = [
    { id: 1, name: "Classic T-Shirt", price: 599, image: "images/tshirt.jpg" },
    { id: 2, name: "Stylish Shoes", price: 1299, image: "images/shoes.jpg" },
    { id: 3, name: "Wrist Watch", price: 899, image: "images/watch.jpg" },
    { id: 4, name: "Denim Jeans", price: 999, image: "images/jeans.jpg" },
    { id: 5, name: "straight fit", price: 2999, image: "images/fitjeans.jpg" },

  ];

  //  Dummy Product Data (replace with your own or import from products.js)
 Explanation:
This is just a comment in JavaScript.
It says:
 The following list of products is dummy data ‚Äî meaning it‚Äôs temporary sample data, not real data from a database or API.
 Later, you can replace this with your own products or import real data from another file (products.js).

----------------------------------------------------------------------------------------------

const products = [
 Explanation:

const means you‚Äôre declaring a constant variable ‚Äî its reference cannot be changed later.

products is the name of the variable.

= assigns a value to it.

[ starts an array ‚Äî a list that can hold multiple items.

So, products is an array of product objects.
-----------------------------------------------------------------------------

{ id: 1, name: "Classic T-Shirt", price: 599, image: "images/tshirt.jpg" },
 Explanation:
Each { ... } is an object representing a single product.

This one product has:

id: 1 ‚Üí a unique identifier for the product (used to track it).

name: "Classic T-Shirt" ‚Üí product name.

price: 599 ‚Üí product price (‚Çπ599).

image: "images/tshirt.jpg" ‚Üí path to the product‚Äôs image file in your project folder.

-------------------------------------------------------------------------------------

{ id: 5, name: "straight fit", price: 2999, image: "images/fitjeans.jpg" },
Final product in the list.

js
Copy code
];
 Explanation:
This closes the array started earlier.
So now, products holds five objects, each representing a product.

 In simple terms:
You have created a list of products where each product has 4 properties:
id, name, price, and image.

You can use this list to dynamically show products on your webpage ‚Äî for example, inside a product grid, cart, or checkout page.

--------------------------------------------------------------------------------------------------
      <p>&copy; 2025 Old Skool copyright.</p>
this is the tag used for displaying the copyright info
-----------------------------------------------------------------------

**Explanation:**  
This is a **comment** describing what this section of code does ‚Äî  
It handles **user authentication logic** using **Clerk** (to detect if a user is signed in or not and show/hide buttons accordingly).

---------------------------------------------------------------------------------------------------

```js

if (user) {

 **Explanation:**  
This checks whether a user exists (i.e., if someone is logged in).  

If `user` is **truthy** (not `null`), then run the code inside this block.

---

### ```js
// If user is logged in
signInBtn.style.display = "none";
signUpBtn.style.display = "none";
signOutBtn.style.display = "inline-block";


 Explanation:
When a user is logged in:

The Sign-In button (signInBtn) is hidden ‚Üí display: none

The Sign-Up button (signUpBtn) is hidden ‚Üí display: none

The Sign-Out button (signOutBtn) becomes visible ‚Üí display: inline-block
 Meaning: once logged in, only the Sign-Out option should be visible.
---------------------------------------------------------------------------------------

} else {

**Explanation:**  
If the user is **not logged in**, then execute the code inside the `else` block.

---

### ```js
// If user is NOT logged in
signOutBtn.style.display = "none";
signInBtn.onclick = () => Clerk.openSignIn();
signUpBtn.onclick = () => Clerk.openSignUp();


 Explanation:
If nobody is logged in:

Hide the Sign-Out button.

Assign actions (event handlers) to the Sign-In and Sign-Up buttons:

When you click Sign-In, it calls Clerk.openSignIn() ‚Äî this opens Clerk‚Äôs built-in sign-in popup.

When you click Sign-Up, it calls Clerk.openSignUp() ‚Äî this opens the sign-up popup.

So these functions show Clerk‚Äôs authentication modal windows.

-----------------------------------------------------------------------------------------------------
```js

//  Sign-Out Function, to signout for a logged in user
signOutBtn.onclick = async () => {
await Clerk.signOut();
window.location.reload();
};
 **Explanation:**  
This sets the **sign-out button‚Äôs click action** ‚Äî even if the user is logged in.

Let‚Äôs break it down:
- `signOutBtn.onclick = async () => { ... }`
  ‚Üí assigns an **asynchronous arrow function** to run when the button is clicked.

Inside it:

 `await Clerk.signOut();`  
   ‚Üí calls Clerk‚Äôs `signOut()` function, which logs the user out.  
   ‚Üí The `await` keyword makes the code **wait** until Clerk finishes signing out (like waiting for a promise to resolve).

 `window.location.reload();`  
   ‚Üí reloads the entire webpage, so the UI updates immediately (showing sign-in buttons again instead of sign-out).

---

 **In short:**  
This block checks if a user is logged in using Clerk.  
- If **logged in** ‚Üí hide sign-in/up buttons, show sign-out.  
- If **not logged in** ‚Üí show sign-in/up buttons, hide sign-out.  
- When **sign-out** is clicked ‚Üí sign out through Clerk and reload the page.

-----------------------------------------------------------------------------------

 Code:
//  Render Product Grid, grid display 
grid.innerHTML = products
  .map(
    (p) => `
      <div class="product-card">
        <img src="${p.image}" alt="${p.name}">
        <h3>${p.name}</h3>
        <p>‚Çπ${p.price}</p>
        <button onclick="addToCart(${p.id})">Add to Cart üõí</button>
      </div>
    `
  )
  .join("");

 Step-by-Step Explanation:
1. grid.innerHTML = ...

grid is a reference to an HTML element on the page (like a <div id="grid">).

.innerHTML replaces all of its existing HTML with new HTML content ‚Äî in this case, the generated product cards.

==========================================================================================================================

2. products.map((p) => ... )

products is expected to be an array of product objects.
Example:

const products = [
  { id: 1, name: "Laptop", price: 60000, image: "laptop.jpg" },
  { id: 2, name: "Headphones", price: 2000, image: "headphones.jpg" }
];


The .map() method loops through each product (called p) in the array.

For each product, it returns a block of HTML (a template string).

------------------------------------------------------------------------------------------------------

3. Template string:

Each product p generates this HTML structure:

<div class="product-card">
  <img src="(product image)" alt="(product name)">
  <h3>(product name)</h3>
  <p>‚Çπ(product price)</p>
  <button onclick="addToCart(product id)">Add to Cart üõí</button>
</div>


For example:
If p is { id: 1, name: "Laptop", price: 60000, image: "laptop.jpg" },

-------------------------------------------------------------------------------------------

4. .join("")

After .map() runs, you get an array of HTML strings like:

["<div>...</div>", "<div>...</div>", "<div>...</div>"]


.join("") merges them into one long string (no commas in between).

This single string is assigned to grid.innerHTML.

-------------------------------------------------------------------------------

6. The addToCart(${p.id}) function

When the user clicks ‚ÄúAdd to Cart üõí‚Äù, it calls a JavaScript function:

addToCart(1);


(where 1 is the product‚Äôs ID)

This function is likely defined elsewhere in your code to handle shopping cart logic.
----------------------------------------------------------------------------

 Overview

This code handles adding products to a shopping cart and checkout actions on an e-commerce site.
It also uses localStorage to store the cart items ‚Äî so even if you refresh or close the page, the cart stays saved in your browser.

addToCart Function
window.addToCart = (id) => {
  const product = products.find((p) => p.id === id);
  if (!product) return;

  let cart = JSON.parse(localStorage.getItem("cart")) || [];

 What it does:

window.addToCart ‚Üí makes the function globally accessible (so it can be called from HTML onclick).

products.find(...) ‚Üí searches for the product in the products array using its ID.

If not found, it simply exits (return).

It then reads the existing cart data from localStorage.

localStorage.getItem("cart") returns a JSON string (or null if empty).

JSON.parse() converts it into a JavaScript array.

If empty, it initializes an empty array [].

========================================================================================

  if (cart.find((p) => p.id === id)) {
    showToast(`${product.name} is already in your cart!`);
    return;
  }

Checks if the item is already in the cart.
If yes ‚Üí shows a toast message and stops execution.

 Adding the Product to Cart
  cart.push(product);
  localStorage.setItem("cart", JSON.stringify(cart));
  showToast(`${product.name} added to cart `);
};
Adds (pushes) the product object to the cart array.

Converts the array back to JSON with JSON.stringify() and saves it to localStorage.

Shows a success message using the custom showToast() function.
----------------------------------------------------------------------------------------------

//  Clerk Authentication Logic
  const user = Clerk.user;

  if (user) {
    // If user is logged in
    signInBtn.style.display = "none";
    signUpBtn.style.display = "none";
    signOutBtn.style.display = "inline-block";
  } else {
    // If user is NOT logged in
    signOutBtn.style.display = "none";
    signInBtn.onclick = () => Clerk.openSignIn();
    signUpBtn.onclick = () => Clerk.openSignUp();
  }

  //  Sign-Out Function, to signout for a logged in user
  signOutBtn.onclick = async () => {
    await Clerk.signOut();
    window.location.reload();
  };

====================================================================================================

//  Clerk Authentication Logic
const user = Clerk.user;
Clerk.user gives you the currently logged-in user (if any).

If no one is logged in, Clerk.user will be null or undefined.
-------------------------------------------------------------------

if (user) {
  // If user is logged in
  signInBtn.style.display = "none";
  signUpBtn.style.display = "none";
  signOutBtn.style.display = "inline-block";
} else {
  // If user is NOT logged in
  signOutBtn.style.display = "none";
  signInBtn.onclick = () => Clerk.openSignIn();
  signUpBtn.onclick = () => Clerk.openSignUp();
}
 What happens here:
The code checks if a user is logged in.

If logged in:

Hide the Sign In and Sign Up buttons (display: none).

Show the Sign Out button (display: inline-block).

If not logged in:

Hide the Sign Out button.

When the user clicks Sign In, it opens Clerk‚Äôs sign-in popup (Clerk.openSignIn()).

When they click Sign Up, it opens the sign-up popup (Clerk.openSignUp()).

So the UI updates dynamically depending on the authentication state.

------------------------------------------------------------------------------------

// Sign-Out Function, to signout for a logged in user
signOutBtn.onclick = async () => {
  await Clerk.signOut();
  window.location.reload();
};
 What happens here:
This code runs when the user clicks the ‚ÄúSign Out‚Äù button.

Clerk.signOut() logs the user out of their account (it‚Äôs asynchronous, so we await it).

After signing out, window.location.reload() reloads the page so that:
-----------------------------------------------------------------------------


  //  Render Product Grid, grid display 
  grid.innerHTML = products
    .map(
      (p) => `
      <div class="product-card">
        <img src="${p.image}" alt="${p.name}">
        <h3>${p.name}</h3>
        <p>‚Çπ${p.price}</p>
        <button onclick="addToCart(${p.id})">Add to Cart üõí</button>
      </div>
    `
    )
    .join("");

=================================================================================

//Render Product Grid, grid display

A comment describing what this block does: render the product list into a visual grid.

grid.innerHTML =

Assigns a string of HTML to the innerHTML of the DOM element referenced by the variable grid. 
This replaces the element‚Äôs contents with whatever HTML string follows.

products

An array (expected) of product objects. Each product object likely has properties like id, name, price, and image.

.map(

Calls Array.prototype.map on products. map transforms each product object into something else;
here it transforms each product into a string of HTML.

================================================================

 .join("");

  // üõí Add to Cart (Stored in LocalStorage)?? browser memory /
  window.addToCart = (id) => {
    const product = products.find((p) => p.id === id);
    if (!product) return;

    let cart = JSON.parse(localStorage.getItem("cart")) || [];


-------------------------

.map() returns an array of HTML strings.

.join("") joins them together into one big HTML string (without commas).

This is then inserted into the page using innerHTML.
-----------------
window.addToCart = (id) => { ... }

This defines a global function named addToCart.

It‚Äôs attached to the window object so it can be called from HTML ‚Äî for example:

<button onclick="addToCart(3)">Add to Cart</button>


When you click this button, the function runs with the product‚Äôs id.

 const product = products.find((p) => p.id === id);

The products array contains all available products.

.find() looks for a product whose id matches the given id.

If it finds one, it returns that product object.

If not found, it returns undefined.
-------------------------------------------------------

 if (!product) return;

This is a guard clause.

If no product was found (i.e., undefined), the function just stops ‚Äî it doesn‚Äôt run the rest of the code.

let cart = JSON.parse(localStorage.getItem("cart")) || [];

The cart is stored in the browser‚Äôs localStorage.

localStorage.getItem("cart") retrieves the saved cart (if it exists) as a string.

JSON.parse() converts that string back into a JavaScript array/object.

If there‚Äôs nothing stored yet (null), then JSON.parse(null) would fail ‚Äî so the || [] ensures that cart becomes an empty array by default.
===================================================================




*/

